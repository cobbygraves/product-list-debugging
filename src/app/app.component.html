<main>
  <section class="desserts">
    <h1>Desserts</h1>

    <div class="desserts-container">
      @for(dessert of desserts; track dessert) {
      <div class="dessert-item">
        <section class="item-image-add-to-cart">
          <img src="{{ dessert.image.thumbnail }}" alt="dessert image" />
          <app-add-to-cart
            (addProduct)="
              addToCart({ name: dessert.name, qty: 1, price: dessert.price })
            "
            (decreaseProduct)="
              decreaseCartItem({
                name: dessert.name,
                qty: 1,
                price: dessert.price
              })
            "
          />
        </section>
        <section class="item-info">
          <p class="category">{{ dessert.category }}</p>
          <p class="name">{{ dessert.name }}</p>
          <p class="price">
            {{ dessert.price | currency : "USD" : "symbol" : "1.2-2" }}
          </p>
        </section>
      </div>
      }
    </div>
  </section>

  <section class="cart">
    <h2>Your Cart {{ cartItems.length }}</h2>
    @if(cartItems.length > 0) { @for(item of cartItems; track item.name){
    <app-cart-item
      [cartItem]="item"
      (removeFromCart)="removeFromCart(item.name)"
    />
    } } @else {
    <app-empty-cart />
    }
  </section>
</main>
